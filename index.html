<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>KappType Start Interface</title>
  <link href="https://fonts.googleapis.com/css2?family=Noto+Sans&display=swap" rel="stylesheet" />
  <link rel="stylesheet" href="styles.css" />
</head>
<body>
  <div class="app-container">
    <header>
      <h1>KappType</h1>
      <p>Choose your mode and upload vocabulary files to start</p>
    </header>

    <main class="start-panel">
      <div class="mode-selection">
        <button id="typingBtn" class="mode-btn blue">Study by Typing</button>
        <button id="quizBtn" class="mode-btn purple">Study by Quiz</button>
      </div>

      <div class="file-uploads">
        <label for="fileUpload1">Primary Vocabulary File (CSV)</label>
        <input type="file" id="fileUpload1" accept=".csv" />

        <label for="fileUpload2">Secondary Vocabulary File (Optional)</label>
        <input type="file" id="fileUpload2" accept=".csv" />
      </div>

      <div id="vocabPreview" class="vocab-preview">
        <p>Vocabulary preview will appear here after upload.</p>
      </div>

      <button id="confirmStart" class="confirm-btn" disabled>Start Session</button>

      <!-- Typing test section, initially hidden -->
      <section id="typingTest" class="typing-test" style="display:none;">
        <h2>Typing Test</h2>

        <!-- Falling word container -->
        <div id="fallingWordContainer" style="position: relative; height: 350px; width: 400px; background: #16213e; border-radius: 12px; margin: auto;">
          <div id="fallingWord" style="position: absolute; top: 0; font-size: 3rem; color: #bbe1fa; user-select: none;">Loading...</div>
        </div>

        <!-- Definition display -->
        <div id="definitionDisplay" style="margin-top: 10px; font-size: 1.2rem; color: #eee; text-align:center;">
          Definition will appear here.
        </div>

        <!-- Typing input and stats -->
        <input type="text" id="typingInput" autocomplete="off" spellcheck="false" placeholder="Type here..." />
        <div class="stats">
          <span id="wpmDisplay">WPM: 0</span>
          <span id="accuracyDisplay">Accuracy: 100%</span>
          <span id="timeDisplay">Time Left: 60s</span>
        </div>

        <button id="endTestBtn" style="display:none;">Finish Test</button>
        <div id="testReport" class="test-report" style="display:none;"></div>
      </section>
    </main>
  </div>

  <script src="script.js"></script>
</body>
</html>
